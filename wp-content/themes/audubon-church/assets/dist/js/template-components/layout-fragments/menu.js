function ToggleButton(){var s=!1,u=function(e){var n=e,u=$(n).next(".sub-menu");s?($(".sub-menu").removeClass("open-submenu"),jQuery(n).addClass("submenu-active"),jQuery(u).addClass("open-submenu")):(u.removeClass("open-submenu"),jQuery(n).removeClass("submenu-active"))};this.click=function(e){s=!s,u(e)},this.close_on_esc=function(e){if(s){var n=event.key||event.keyCode;"Escape"!==n&&"Esc"!==n&&27!==n||(s=!1,u(e))}}}var loadSubmenuToggle=function(){$("<button class='toggle-submenu'><span class='assistive'>Toggle the submenu</span></button>").insertBefore($(".menu-parent-item > .sub-menu"));var e=$(".menu-parent-item");$(e).each(function(){var e=$(this).find(".toggle-submenu"),n=new ToggleButton(e[0]);e.on("click",function(){n.click(this)}),document.addEventListener("keyup",this,function(){n.close_on_esc(e)})})};$(document).on("ready",loadSubmenuToggle);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlbXBsYXRlLWNvbXBvbmVudHMvbGF5b3V0LWZyYWdtZW50cy9tZW51LmpzIl0sIm5hbWVzIjpbIlRvZ2dsZUJ1dHRvbiIsIm1lbnVfY3VycmVudGx5X29wZW5lZCIsImNoZWNrX21lbnVfc3RhdHVzIiwiZWxlbWVudCIsInRoYXQiLCJyZWxhdGl2ZV9zdWJtZW51IiwiJCIsIm5leHQiLCJyZW1vdmVDbGFzcyIsImpRdWVyeSIsImFkZENsYXNzIiwidGhpcyIsImNsaWNrIiwiY2xvc2Vfb25fZXNjIiwia2V5IiwiZXZlbnQiLCJrZXlDb2RlIiwibG9hZFN1Ym1lbnVUb2dnbGUiLCJpbnNlcnRCZWZvcmUiLCJtZW51X2l0ZW1zX3dpdGhfY2hpbGRyZW4iLCJlYWNoIiwiZmluZF90aGVfdG9nZ2xlIiwiZmluZCIsImJ1dHRvbiIsIm9uIiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIl0sIm1hcHBpbmdzIjoiQUFBQSxTQUFTQSxlQUNMLElBQUlDLEdBQXdCLEVBRXhCQyxFQUFvQixTQUFTQyxHQUM3QixJQUFJQyxFQUFPRCxFQUNQRSxFQUFtQkMsRUFBRUYsR0FBTUcsS0FBSyxhQUVoQ04sR0FDQUssRUFBRSxhQUFhRSxZQUFZLGdCQUMzQkMsT0FBT0wsR0FBTU0sU0FBUyxrQkFDdEJELE9BQU9KLEdBQWtCSyxTQUFTLGtCQUVsQ0wsRUFBaUJHLFlBQVksZ0JBQzdCQyxPQUFPTCxHQUFNSSxZQUFZLG9CQUlqQ0csS0FBS0MsTUFBUSxTQUFTVCxHQUNsQkYsR0FBeUJBLEVBQ3pCQyxFQUFrQkMsSUFHdEJRLEtBQUtFLGFBQWUsU0FBU1YsR0FDekIsR0FBSUYsRUFBdUIsQ0FDdkIsSUFBSWEsRUFBTUMsTUFBTUQsS0FBT0MsTUFBTUMsUUFDakIsV0FBUkYsR0FBNEIsUUFBUkEsR0FBeUIsS0FBUkEsSUFDckNiLEdBQXdCLEVBQ3hCQyxFQUFrQkMsTUFNbEMsSUFBSWMsa0JBQW9CLFdBQ3BCWCxFQUFFLDZGQUdPWSxhQUFhWixFQUFFLGtDQUV4QixJQUFJYSxFQUEyQmIsRUFBRSxxQkFFakNBLEVBQUVhLEdBQTBCQyxLQUFLLFdBQzdCLElBQUlDLEVBQWtCZixFQUFFSyxNQUFNVyxLQUFLLG1CQUUvQkMsRUFBUyxJQUFJdkIsYUFBYXFCLEVBQWdCLElBRTlDQSxFQUFnQkcsR0FBRyxRQUFTLFdBQ3hCRCxFQUFPWCxNQUFNRCxRQUdqQmMsU0FBU0MsaUJBQWlCLFFBQVNmLEtBQU0sV0FDckNZLEVBQU9WLGFBQWFRLFFBTWhDZixFQUFFbUIsVUFBVUQsR0FBRyxRQUFTUCIsImZpbGUiOiJ0ZW1wbGF0ZS1jb21wb25lbnRzL2xheW91dC1mcmFnbWVudHMvbWVudS5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIFRvZ2dsZUJ1dHRvbigpIHtcbiAgICB2YXIgbWVudV9jdXJyZW50bHlfb3BlbmVkID0gZmFsc2U7XG5cbiAgICB2YXIgY2hlY2tfbWVudV9zdGF0dXMgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgIHZhciB0aGF0ID0gZWxlbWVudDtcbiAgICAgICAgdmFyIHJlbGF0aXZlX3N1Ym1lbnUgPSAkKHRoYXQpLm5leHQoXCIuc3ViLW1lbnVcIik7XG5cbiAgICAgICAgaWYgKG1lbnVfY3VycmVudGx5X29wZW5lZCkge1xuICAgICAgICAgICAgJChcIi5zdWItbWVudVwiKS5yZW1vdmVDbGFzcyhcIm9wZW4tc3VibWVudVwiKTtcbiAgICAgICAgICAgIGpRdWVyeSh0aGF0KS5hZGRDbGFzcyhcInN1Ym1lbnUtYWN0aXZlXCIpO1xuICAgICAgICAgICAgalF1ZXJ5KHJlbGF0aXZlX3N1Ym1lbnUpLmFkZENsYXNzKFwib3Blbi1zdWJtZW51XCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVsYXRpdmVfc3VibWVudS5yZW1vdmVDbGFzcyhcIm9wZW4tc3VibWVudVwiKTtcbiAgICAgICAgICAgIGpRdWVyeSh0aGF0KS5yZW1vdmVDbGFzcyhcInN1Ym1lbnUtYWN0aXZlXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5jbGljayA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgbWVudV9jdXJyZW50bHlfb3BlbmVkID0gIW1lbnVfY3VycmVudGx5X29wZW5lZDtcbiAgICAgICAgY2hlY2tfbWVudV9zdGF0dXMoZWxlbWVudCk7XG4gICAgfTtcblxuICAgIHRoaXMuY2xvc2Vfb25fZXNjID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICBpZiAobWVudV9jdXJyZW50bHlfb3BlbmVkKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gZXZlbnQua2V5IHx8IGV2ZW50LmtleUNvZGU7XG4gICAgICAgICAgICBpZiAoa2V5ID09PSAnRXNjYXBlJyB8fCBrZXkgPT09ICdFc2MnIHx8IGtleSA9PT0gMjcpIHtcbiAgICAgICAgICAgICAgICBtZW51X2N1cnJlbnRseV9vcGVuZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBjaGVja19tZW51X3N0YXR1cyhlbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxudmFyIGxvYWRTdWJtZW51VG9nZ2xlID0gZnVuY3Rpb24oKSB7XG4gICAgJChcIjxidXR0b24gY2xhc3M9J3RvZ2dsZS1zdWJtZW51Jz5cIiArXG4gICAgICAgIFwiPHNwYW4gY2xhc3M9J2Fzc2lzdGl2ZSc+VG9nZ2xlIHRoZSBzdWJtZW51PC9zcGFuPlwiICtcbiAgICAgICAgXCI8L2J1dHRvbj5cIilcbiAgICAgICAgICAgIC5pbnNlcnRCZWZvcmUoJChcIi5tZW51LXBhcmVudC1pdGVtID4gLnN1Yi1tZW51XCIpKTtcblxuICAgIHZhciBtZW51X2l0ZW1zX3dpdGhfY2hpbGRyZW4gPSAkKFwiLm1lbnUtcGFyZW50LWl0ZW1cIik7XG5cbiAgICAkKG1lbnVfaXRlbXNfd2l0aF9jaGlsZHJlbikuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGZpbmRfdGhlX3RvZ2dsZSA9ICQodGhpcykuZmluZChcIi50b2dnbGUtc3VibWVudVwiKTtcblxuICAgICAgICB2YXIgYnV0dG9uID0gbmV3IFRvZ2dsZUJ1dHRvbihmaW5kX3RoZV90b2dnbGVbMF0pO1xuXG4gICAgICAgIGZpbmRfdGhlX3RvZ2dsZS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgYnV0dG9uLmNsaWNrKHRoaXMpO1xuICAgICAgICB9KTtcblxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgYnV0dG9uLmNsb3NlX29uX2VzYyhmaW5kX3RoZV90b2dnbGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn07XG5cblxuJChkb2N1bWVudCkub24oXCJyZWFkeVwiLCBsb2FkU3VibWVudVRvZ2dsZSk7Il19